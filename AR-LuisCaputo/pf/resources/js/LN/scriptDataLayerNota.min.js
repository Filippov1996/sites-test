(() => {
    var d = (n, i, l) => {
            let a = String.prototype.split.call(i, /[,[\].]+?/).filter(Boolean).reduce((t, c) => t != null ? t[c] : t, n);
            return a === void 0 || a === n ? l : a
        },
        s = d;
    var e = document.getElementById("scriptDataLayerNota"),
        u = e.getAttribute("data-id"),
        p = e.getAttribute("data-valor"),
        g = e.getAttribute("data-page-type"),
        o = JSON.parse(e.getAttribute("data-subtype"));
    window.dataLayer = window.dataLayer || [];
    var y = localStorage.getItem("CDmetaRefresh"),
        m = localStorage.getItem("countNotas"),
        r = y != null ? "yes" : "no",
        b = m || "0",
        f = s(window, "Fusion.globalContent.isListenable", !1) ? "si" : "no";
    r === "yes" && localStorage.removeItem("CDmetaRefresh");
    var L = {
        metarefresh: r,
        pagetype: g,
        subtype: o && o.nombre && o.nombre.toLowerCase() || "",
        valor: p,
        nota_id: u,
        notasLeidas: b,
        contiene_audio: f
    };
    window.dataLayer.push(L);
})();